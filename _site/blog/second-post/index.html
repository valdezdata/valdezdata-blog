<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Asegurando la Integridad de Datos con dbt Tests | VALDEZDATA</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="terminal">
    <div class="terminal-header">
      <div class="terminal-buttons">
        <div class="terminal-button red"></div>
        <div class="terminal-button yellow"></div>
        <div class="terminal-button green"></div>
      </div>
      <div class="terminal-title">valdezdata@blog:~</div>
    </div>
    
    <div class="terminal-content">
      <div class="ascii-header">
        <a href="/" class="ascii-link">
        <pre>
â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•   â–ˆâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘
 â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
  â•šâ•â•â•â•  â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•   â•šâ•â•   â•šâ•â•  â•šâ•â•
        </pre>
        </a>
      </div>
      
      <div class="typing-container">
        <div class="typing-text" id="typing-text"></div>
        <div class="cursor"></div>
      </div>
      
      <div class="tags-container" id="tags-container">
        <!-- Tags will be added dynamically by JavaScript -->
      </div>
      
      <nav class="terminal-nav">
        <ul>
          <li><a href="/">> home</a></li>
          <li><a href="/whoami/">> whoami</a></li>
          <li><a href="/usos/">> Usos</a></li>
          <li><a href="/tags/">> tags</a></li>
        </ul>
      </nav>
      
      <div class="content">
        
<article class="post">
  <h1 class="post-header">Asegurando la Integridad de Datos con dbt Tests</h1>
  
  <div class="post-meta">
    <time datetime="Feb 9, 2023">Feb 9, 2023</time>
    
      â€¢ 
      
        
          <a href="/tags/data-integrity/" class="tag">data-integrity</a> 
        
      
        
          <a href="/tags/dbt/" class="tag">dbt</a> 
        
      
        
          <a href="/tags/testing/" class="tag">testing</a>
        
      
    
  </div>
  
  <div class="post-content">
    <h1>Asegurando la Integridad de Datos con dbt Tests</h1>
<p>En el mundo de los datos, la confianza es fundamental. Para que los stakeholders tomen decisiones basadas en datos, necesitan tener plena confianza en la integridad de esos datos. AquÃ­ es donde dbt (data build tool) y su sistema de pruebas se vuelven esenciales para cualquier stack moderno de datos.</p>
<h2>Â¿Por quÃ© necesitamos pruebas de datos?</h2>
<p>Sin pruebas sistemÃ¡ticas, los problemas comunes incluyen:</p>
<ul>
<li>Valores duplicados en columnas que deberÃ­an ser Ãºnicas</li>
<li>Referencias huÃ©rfanas a registros que no existen</li>
<li>Valores nulos en campos crÃ­ticos</li>
<li>AnomalÃ­as estadÃ­sticas o outliers</li>
</ul>
<h2>Pruebas incorporadas en dbt</h2>
<p>dbt viene con cuatro pruebas genÃ©ricas que pueden solucionar la mayorÃ­a de los casos de uso bÃ¡sicos:</p>
<pre><code class="language-yaml"># models/schema.yml
version: 2

models:
  - name: customers
    columns:
      - name: customer_id
        tests:
          - unique
          - not_null

      - name: plan_type
        tests:
          - accepted_values:
              values: [&quot;free&quot;, &quot;starter&quot;, &quot;professional&quot;, &quot;enterprise&quot;]

      - name: service_rep_id
        tests:
          - relationships:
              to: ref('service_reps')
              field: id
</code></pre>
<h2>Pruebas personalizadas para lÃ³gica de negocio</h2>
<p>Las pruebas incorporadas son solo el comienzo. Para reglas de negocio especÃ­ficas, podemos crear pruebas personalizadas en SQL:</p>
<pre><code class="language-sql">-- tests/total_should_match_detail.sql
-- Ejemplo de una prueba personalizada en SQL:

with
total_values as (
    select
        order_id,
        total_amount
    from orders
),

detail_values as (
    select
        order_id,
        sum(amount) as detail_total
    from order_items
    group by 1
),

mismatches as (
    select
        t.order_id,
        t.total_amount,
        d.detail_total,
        abs(t.total_amount - d.detail_total) as diff
    from total_values t
    join detail_values d on t.order_id = d.order_id
    where abs(t.total_amount - d.detail_total) &gt; 0.01
)

select * from mismatches
</code></pre>
<h2>ImplementaciÃ³n en tu flujo de trabajo</h2>
<p>Para integrar las pruebas en tu pipeline:</p>
<pre><code class="language-bash"># Ejecutar todas las pruebas
dbt test

# Ejecutar pruebas especÃ­ficas
dbt test --models customers

# Pruebas como parte del CI/CD
dbt build  # combina dbt run y dbt test
</code></pre>
<h2>Monitoreando la calidad de datos a lo largo del tiempo</h2>
<p>Las pruebas puntuales son Ãºtiles, pero el monitoreo continuo es mejor:</p>
<ol>
<li>Programa ejecuciones de pruebas regulares (diarias/horarias)</li>
<li>Integra alertas cuando fallen las pruebas</li>
<li>Construye dashboards de calidad de datos</li>
</ol>
<h2>ConclusiÃ³n</h2>
<p>Invertir en pruebas de datos desde el principio paga dividendos enormes a largo plazo: mejora la confianza, reduce el tiempo de depuraciÃ³n y permite refactorizar con confianza. dbt proporciona las herramientas necesarias para implementar una cultura de calidad de datos en tu organizaciÃ³n.</p>
<pre><code class="language-bash">echo &quot;Datos confiables, decisiones confiables.&quot; &gt; /dev/stdout
</code></pre>

  </div>
  
  <div class="post-navigation">
    <a href="/">> cd ..</a>
  </div>
</article>

      </div>
      
      <div class="terminal-footer">
        <p>Â© 2025 VALDEZDATA - Built with <a href="https://www.11ty.dev/">11ty</a> and ğŸ’™</p>
      </div>
    </div>
  </div>
  
  <script src="/js/terminal.js"></script>
</body>
</html>
